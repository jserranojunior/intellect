import { reactive, toRefs } from "vue";
import { datePtBrToUs } from "@/helpers/helpersDates";
import { money } from "@/helpers/filters";
import router from "@/router";

const editApi = {
  ID: 91,
  CreatedAt: "2020-11-14T00:00:00Z",
  UpdatedAt: "2021-02-17T19:32:10.019Z",
  DeletedAt: null,
  user_id: 49,
  categorias_contas_a_pagar_id: 1,
  favorecido: "Teste 2",
  inicio_data_pagamento: "2020-11-14",
  fim_data_pagamento: "2021-02-18",
  descricao: "TA ROLANDO A BIND",
  forma_pagamento: "Dinheiro",
  tipo_conta: "Fixa",
  parcelas: "",
  ValoresContasAPagar: {
    ID: 126,
    CreatedAt: "2021-02-17T19:32:10.017Z",
    UpdatedAt: "2021-02-17T19:32:10.017Z",
    DeletedAt: null,
    contas_a_pagar_id: 91,
    data_pagamento: "2020-02-15",
    valor: 114,
  },
  ContasPagas: {
    ID: 153,
    CreatedAt: "2021-02-15T13:27:51.434Z",
    UpdatedAt: "2021-02-15T13:27:51.434Z",
    DeletedAt: null,
    contas_a_pagar_id: 91,
    data_pagamento: "2021-02-15",
  },
};
const api = {
  CategoriasContasAPagars: [
    {
      ID: 1,
      CreatedAt: "2020-01-14T15:37:12Z",
      UpdatedAt: "2020-01-14T15:37:12Z",
      DeletedAt: null,
      nome: "Essencais",
      cor: "#3E6A91",
      tipo: "pagamento",
      ContasAPagar: [
        {
          ID: 91,
          CreatedAt: "2020-11-14T00:00:00Z",
          UpdatedAt: "2021-02-17T19:32:10.019Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 1,
          favorecido: "Teste 2",
          inicio_data_pagamento: "2020-11-14",
          fim_data_pagamento: "2021-02-18",
          descricao: "TA ROLANDO A BIND",
          forma_pagamento: "Dinheiro",
          tipo_conta: "Fixa",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 126,
            CreatedAt: "2021-02-17T19:32:10.017Z",
            UpdatedAt: "2021-02-17T19:32:10.017Z",
            DeletedAt: null,
            contas_a_pagar_id: 91,
            data_pagamento: "2020-02-15",
            valor: 114,
          },
          ContasPagas: {
            ID: 153,
            CreatedAt: "2021-02-15T13:27:51.434Z",
            UpdatedAt: "2021-02-15T13:27:51.434Z",
            DeletedAt: null,
            contas_a_pagar_id: 91,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 92,
          CreatedAt: "2020-11-14T00:00:00Z",
          UpdatedAt: "2021-02-03T05:29:19.498Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 1,
          favorecido: "Vivo",
          inicio_data_pagamento: "2020-11-14",
          fim_data_pagamento: "2020-11-15",
          descricao: "",
          forma_pagamento: "Débito",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 98,
            CreatedAt: "2021-02-03T05:29:19.491Z",
            UpdatedAt: "2021-02-03T05:29:19.491Z",
            DeletedAt: null,
            contas_a_pagar_id: 92,
            data_pagamento: "2021-02-03",
            valor: 95,
          },
          ContasPagas: {
            ID: 156,
            CreatedAt: "2021-02-15T13:30:10.838Z",
            UpdatedAt: "2021-02-15T13:30:10.838Z",
            DeletedAt: null,
            contas_a_pagar_id: 92,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 103,
          CreatedAt: "2020-11-14T00:00:00Z",
          UpdatedAt: "0001-01-01T00:00:00Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 1,
          favorecido: "Luz",
          inicio_data_pagamento: "2020-11-14",
          fim_data_pagamento: "",
          descricao: "",
          forma_pagamento: "Dinheiro",
          tipo_conta: "Fixa",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 40,
            CreatedAt: "2020-11-14T00:00:00Z",
            UpdatedAt: "0001-01-01T00:00:00Z",
            DeletedAt: null,
            contas_a_pagar_id: 103,
            data_pagamento: "2020-12-30",
            valor: 80,
          },
          ContasPagas: {
            ID: 155,
            CreatedAt: "2021-02-15T13:28:00.039Z",
            UpdatedAt: "2021-02-15T13:28:00.039Z",
            DeletedAt: null,
            contas_a_pagar_id: 103,
            data_pagamento: "2021-02-15",
          },
        },
      ],
      Soma: 289,
    },
    {
      ID: 2,
      CreatedAt: "2020-01-14T15:56:23Z",
      UpdatedAt: "2020-01-14T15:56:23Z",
      DeletedAt: null,
      nome: "Compras",
      cor: "#49325B",
      tipo: "pagamento",
      ContasAPagar: [
        {
          ID: 139,
          CreatedAt: "2021-02-15T13:44:06.848Z",
          UpdatedAt: "2021-02-15T13:44:06.848Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 2,
          favorecido: "Ali Express",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 102,
            CreatedAt: "2021-02-15T13:44:06.849Z",
            UpdatedAt: "2021-02-15T13:44:06.849Z",
            DeletedAt: null,
            contas_a_pagar_id: 139,
            data_pagamento: "2021-02-15",
            valor: 97,
          },
          ContasPagas: {
            ID: 177,
            CreatedAt: "2021-02-22T13:50:05.475Z",
            UpdatedAt: "2021-02-22T13:50:05.475Z",
            DeletedAt: null,
            contas_a_pagar_id: 139,
            data_pagamento: "2021-02-22",
          },
        },
        {
          ID: 144,
          CreatedAt: "2021-02-15T13:51:46.775Z",
          UpdatedAt: "2021-02-15T13:51:46.775Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 2,
          favorecido: "Lojinha de 1 real",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 107,
            CreatedAt: "2021-02-15T13:51:46.776Z",
            UpdatedAt: "2021-02-15T13:51:46.776Z",
            DeletedAt: null,
            contas_a_pagar_id: 144,
            data_pagamento: "2021-02-15",
            valor: 8,
          },
          ContasPagas: {
            ID: 159,
            CreatedAt: "2021-02-15T13:58:22.624Z",
            UpdatedAt: "2021-02-15T13:58:22.624Z",
            DeletedAt: null,
            contas_a_pagar_id: 144,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 145,
          CreatedAt: "2021-02-15T13:52:24.085Z",
          UpdatedAt: "2021-02-15T13:52:24.085Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 2,
          favorecido: "Lojinha de 1 real",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 108,
            CreatedAt: "2021-02-15T13:52:24.086Z",
            UpdatedAt: "2021-02-15T13:52:24.086Z",
            DeletedAt: null,
            contas_a_pagar_id: 145,
            data_pagamento: "2021-02-15",
            valor: 7,
          },
          ContasPagas: {
            ID: 160,
            CreatedAt: "2021-02-15T13:58:23.316Z",
            UpdatedAt: "2021-02-15T13:58:23.316Z",
            DeletedAt: null,
            contas_a_pagar_id: 145,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 146,
          CreatedAt: "2021-02-15T13:52:39.734Z",
          UpdatedAt: "2021-02-15T13:52:39.734Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 2,
          favorecido: "Lojinha de 1 real",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 109,
            CreatedAt: "2021-02-15T13:52:39.734Z",
            UpdatedAt: "2021-02-15T13:52:39.734Z",
            DeletedAt: null,
            contas_a_pagar_id: 146,
            data_pagamento: "2021-02-15",
            valor: 8,
          },
          ContasPagas: {
            ID: 161,
            CreatedAt: "2021-02-15T13:58:23.836Z",
            UpdatedAt: "2021-02-15T13:58:23.836Z",
            DeletedAt: null,
            contas_a_pagar_id: 146,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 150,
          CreatedAt: "2021-02-15T13:53:53.298Z",
          UpdatedAt: "2021-02-15T13:53:53.298Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 2,
          favorecido: "Lojinha de 1 real",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 113,
            CreatedAt: "2021-02-15T13:53:53.299Z",
            UpdatedAt: "2021-02-15T13:53:53.299Z",
            DeletedAt: null,
            contas_a_pagar_id: 150,
            data_pagamento: "2021-02-15",
            valor: 8,
          },
          ContasPagas: {
            ID: 162,
            CreatedAt: "2021-02-15T13:58:24.471Z",
            UpdatedAt: "2021-02-15T13:58:24.471Z",
            DeletedAt: null,
            contas_a_pagar_id: 150,
            data_pagamento: "2021-02-15",
          },
        },
      ],
      Soma: 128,
    },
    {
      ID: 3,
      CreatedAt: "2020-01-29T13:55:49Z",
      UpdatedAt: "2020-01-29T13:55:49Z",
      DeletedAt: null,
      nome: "Urgencias",
      cor: "#b21212",
      tipo: "pagamento",
      ContasAPagar: [
        {
          ID: 138,
          CreatedAt: "2021-02-15T13:43:35.593Z",
          UpdatedAt: "2021-02-15T13:43:35.593Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 3,
          favorecido: "Recarga Vivo",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 101,
            CreatedAt: "2021-02-15T13:43:35.593Z",
            UpdatedAt: "2021-02-15T13:43:35.593Z",
            DeletedAt: null,
            contas_a_pagar_id: 138,
            data_pagamento: "2021-02-15",
            valor: 10,
          },
          ContasPagas: {
            ID: 178,
            CreatedAt: "2021-02-22T13:50:06.967Z",
            UpdatedAt: "2021-02-22T13:50:06.967Z",
            DeletedAt: null,
            contas_a_pagar_id: 138,
            data_pagamento: "2021-02-22",
          },
        },
        {
          ID: 140,
          CreatedAt: "2021-02-15T13:44:58.278Z",
          UpdatedAt: "2021-02-15T13:44:58.278Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 3,
          favorecido: "Recarga de celular",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 103,
            CreatedAt: "2021-02-15T13:44:58.279Z",
            UpdatedAt: "2021-02-15T13:44:58.279Z",
            DeletedAt: null,
            contas_a_pagar_id: 140,
            data_pagamento: "2021-02-15",
            valor: 10,
          },
          ContasPagas: {
            ID: 179,
            CreatedAt: "2021-02-22T13:50:07.747Z",
            UpdatedAt: "2021-02-22T13:50:07.747Z",
            DeletedAt: null,
            contas_a_pagar_id: 140,
            data_pagamento: "2021-02-22",
          },
        },
        {
          ID: 141,
          CreatedAt: "2021-02-15T13:45:30.247Z",
          UpdatedAt: "2021-02-15T13:45:30.247Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 3,
          favorecido: "Recarga de celular",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 104,
            CreatedAt: "2021-02-15T13:45:30.248Z",
            UpdatedAt: "2021-02-15T13:45:30.248Z",
            DeletedAt: null,
            contas_a_pagar_id: 141,
            data_pagamento: "2021-02-15",
            valor: 10,
          },
          ContasPagas: {
            ID: 184,
            CreatedAt: "2021-02-22T13:50:15.658Z",
            UpdatedAt: "2021-02-22T13:50:15.658Z",
            DeletedAt: null,
            contas_a_pagar_id: 141,
            data_pagamento: "2021-02-22",
          },
        },
        {
          ID: 149,
          CreatedAt: "2021-02-15T13:53:37.682Z",
          UpdatedAt: "2021-02-15T13:53:37.682Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 3,
          favorecido: "Adega Riacho",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 112,
            CreatedAt: "2021-02-15T13:53:37.682Z",
            UpdatedAt: "2021-02-15T13:53:37.682Z",
            DeletedAt: null,
            contas_a_pagar_id: 149,
            data_pagamento: "2021-02-15",
            valor: 42,
          },
          ContasPagas: {
            ID: 174,
            CreatedAt: "2021-02-15T13:58:40.219Z",
            UpdatedAt: "2021-02-15T13:58:40.219Z",
            DeletedAt: null,
            contas_a_pagar_id: 149,
            data_pagamento: "2021-02-15",
          },
        },
      ],
      Soma: 72,
    },
    {
      ID: 4,
      CreatedAt: "2020-01-29T13:56:18Z",
      UpdatedAt: "2020-01-29T13:56:18Z",
      DeletedAt: null,
      nome: "Lazer",
      cor: "#5D2646",
      tipo: "pagamento",
      ContasAPagar: [
        {
          ID: 93,
          CreatedAt: "2020-11-14T00:00:00Z",
          UpdatedAt: "0001-01-01T00:00:00Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 4,
          favorecido: "Spotify",
          inicio_data_pagamento: "2020-11-14",
          fim_data_pagamento: "",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Fixa",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 13,
            CreatedAt: "2020-11-14T00:00:00Z",
            UpdatedAt: "0001-01-01T00:00:00Z",
            DeletedAt: null,
            contas_a_pagar_id: 93,
            data_pagamento: "2020-11-14",
            valor: 17,
          },
          ContasPagas: {
            ID: 163,
            CreatedAt: "2021-02-15T13:58:25.959Z",
            UpdatedAt: "2021-02-15T13:58:25.959Z",
            DeletedAt: null,
            contas_a_pagar_id: 93,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 122,
          CreatedAt: "2020-11-14T00:00:00Z",
          UpdatedAt: "0001-01-01T00:00:00Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 4,
          favorecido: "Steam",
          inicio_data_pagamento: "2021-01-04",
          fim_data_pagamento: "2021-02-04",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Parcelada",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 50,
            CreatedAt: "2020-11-14T00:00:00Z",
            UpdatedAt: "0001-01-01T00:00:00Z",
            DeletedAt: null,
            contas_a_pagar_id: 122,
            data_pagamento: "2021-01-04",
            valor: 24,
          },
          ContasPagas: {
            ID: 180,
            CreatedAt: "2021-02-22T13:50:09.409Z",
            UpdatedAt: "2021-02-22T13:50:09.409Z",
            DeletedAt: null,
            contas_a_pagar_id: 122,
            data_pagamento: "2021-02-22",
          },
        },
        {
          ID: 137,
          CreatedAt: "2021-02-15T13:42:59.729Z",
          UpdatedAt: "2021-02-15T13:42:59.729Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 4,
          favorecido: "Steam",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 100,
            CreatedAt: "2021-02-15T13:42:59.73Z",
            UpdatedAt: "2021-02-15T13:42:59.73Z",
            DeletedAt: null,
            contas_a_pagar_id: 137,
            data_pagamento: "2021-02-15",
            valor: 7,
          },
          ContasPagas: {
            ID: 181,
            CreatedAt: "2021-02-22T13:50:09.943Z",
            UpdatedAt: "2021-02-22T13:50:09.943Z",
            DeletedAt: null,
            contas_a_pagar_id: 137,
            data_pagamento: "2021-02-22",
          },
        },
      ],
      Soma: 48,
    },
    {
      ID: 5,
      CreatedAt: "2020-01-29T13:56:32Z",
      UpdatedAt: "2020-01-29T13:56:32Z",
      DeletedAt: null,
      nome: "Transporte",
      cor: "#8B9197",
      tipo: "pagamento",
      ContasAPagar: [
        {
          ID: 95,
          CreatedAt: "2020-11-14T00:00:00Z",
          UpdatedAt: "2021-02-17T21:46:32.267Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 5,
          favorecido: "Seguro Carro",
          inicio_data_pagamento: "2020-11-14",
          fim_data_pagamento: "undefined-ed-0",
          descricao: "",
          forma_pagamento: "Débito Automatico",
          tipo_conta: "Fixa",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 127,
            CreatedAt: "2021-02-17T21:46:32.262Z",
            UpdatedAt: "2021-02-17T21:46:32.262Z",
            DeletedAt: null,
            contas_a_pagar_id: 95,
            data_pagamento: "2021-02-17",
            valor: 120,
          },
          ContasPagas: {
            ID: 158,
            CreatedAt: "2021-02-15T13:40:15.034Z",
            UpdatedAt: "2021-02-15T13:40:15.034Z",
            DeletedAt: null,
            contas_a_pagar_id: 95,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 152,
          CreatedAt: "2021-02-15T13:54:50.406Z",
          UpdatedAt: "2021-02-15T13:54:50.406Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 5,
          favorecido: "Universal Peças",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 115,
            CreatedAt: "2021-02-15T13:54:50.407Z",
            UpdatedAt: "2021-02-15T13:54:50.407Z",
            DeletedAt: null,
            contas_a_pagar_id: 152,
            data_pagamento: "2021-02-15",
            valor: 20,
          },
          ContasPagas: {
            ID: 173,
            CreatedAt: "2021-02-15T13:58:37.172Z",
            UpdatedAt: "2021-02-15T13:58:37.172Z",
            DeletedAt: null,
            contas_a_pagar_id: 152,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 153,
          CreatedAt: "2021-02-15T13:55:06.311Z",
          UpdatedAt: "2021-02-15T13:55:06.311Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 5,
          favorecido: "Universal Peças",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 116,
            CreatedAt: "2021-02-15T13:55:06.312Z",
            UpdatedAt: "2021-02-15T13:55:06.312Z",
            DeletedAt: null,
            contas_a_pagar_id: 153,
            data_pagamento: "2021-02-15",
            valor: 150,
          },
          ContasPagas: {
            ID: 172,
            CreatedAt: "2021-02-15T13:58:36.713Z",
            UpdatedAt: "2021-02-15T13:58:36.713Z",
            DeletedAt: null,
            contas_a_pagar_id: 153,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 154,
          CreatedAt: "2021-02-15T13:55:36.176Z",
          UpdatedAt: "2021-02-15T13:55:36.176Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 5,
          favorecido: "Ostencell",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 117,
            CreatedAt: "2021-02-15T13:55:36.177Z",
            UpdatedAt: "2021-02-15T13:55:36.177Z",
            DeletedAt: null,
            contas_a_pagar_id: 154,
            data_pagamento: "2021-02-15",
            valor: 40,
          },
          ContasPagas: {
            ID: 171,
            CreatedAt: "2021-02-15T13:58:35.854Z",
            UpdatedAt: "2021-02-15T13:58:35.854Z",
            DeletedAt: null,
            contas_a_pagar_id: 154,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 156,
          CreatedAt: "2021-02-15T13:56:19.641Z",
          UpdatedAt: "2021-02-15T13:56:19.641Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 5,
          favorecido: "Uber",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 119,
            CreatedAt: "2021-02-15T13:56:19.642Z",
            UpdatedAt: "2021-02-15T13:56:19.642Z",
            DeletedAt: null,
            contas_a_pagar_id: 156,
            data_pagamento: "2021-02-15",
            valor: 13,
          },
          ContasPagas: {
            ID: 169,
            CreatedAt: "2021-02-15T13:58:34.323Z",
            UpdatedAt: "2021-02-15T13:58:34.323Z",
            DeletedAt: null,
            contas_a_pagar_id: 156,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 157,
          CreatedAt: "2021-02-15T13:56:39.301Z",
          UpdatedAt: "2021-02-15T13:56:39.301Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 5,
          favorecido: "Uber",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 120,
            CreatedAt: "2021-02-15T13:56:39.302Z",
            UpdatedAt: "2021-02-15T13:56:39.302Z",
            DeletedAt: null,
            contas_a_pagar_id: 157,
            data_pagamento: "2021-02-15",
            valor: 44,
          },
          ContasPagas: {
            ID: 170,
            CreatedAt: "2021-02-15T13:58:34.905Z",
            UpdatedAt: "2021-02-15T13:58:34.905Z",
            DeletedAt: null,
            contas_a_pagar_id: 157,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 161,
          CreatedAt: "2021-02-15T14:36:07.457Z",
          UpdatedAt: "2021-02-15T14:36:07.457Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 5,
          favorecido: "Licenciamento",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 124,
            CreatedAt: "2021-02-15T14:36:07.457Z",
            UpdatedAt: "2021-02-15T14:36:07.457Z",
            DeletedAt: null,
            contas_a_pagar_id: 161,
            data_pagamento: "2021-02-15",
            valor: 97,
          },
          ContasPagas: {
            ID: 176,
            CreatedAt: "2021-02-15T14:36:10.026Z",
            UpdatedAt: "2021-02-15T14:36:10.026Z",
            DeletedAt: null,
            contas_a_pagar_id: 161,
            data_pagamento: "2021-02-15",
          },
        },
      ],
      Soma: 484,
    },
    {
      ID: 6,
      CreatedAt: "2020-01-29T13:56:50Z",
      UpdatedAt: "2020-01-29T13:56:50Z",
      DeletedAt: null,
      nome: "Alimentação",
      cor: "#F76489",
      tipo: "pagamento",
      ContasAPagar: [
        {
          ID: 142,
          CreatedAt: "2021-02-15T13:45:59.915Z",
          UpdatedAt: "2021-02-15T13:45:59.915Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 6,
          favorecido: "ifood",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 105,
            CreatedAt: "2021-02-15T13:45:59.916Z",
            UpdatedAt: "2021-02-15T13:45:59.916Z",
            DeletedAt: null,
            contas_a_pagar_id: 142,
            data_pagamento: "2021-02-15",
            valor: 45,
          },
          ContasPagas: {
            ID: 183,
            CreatedAt: "2021-02-22T13:50:13.12Z",
            UpdatedAt: "2021-02-22T13:50:13.12Z",
            DeletedAt: null,
            contas_a_pagar_id: 142,
            data_pagamento: "2021-02-22",
          },
        },
        {
          ID: 143,
          CreatedAt: "2021-02-15T13:51:28.903Z",
          UpdatedAt: "2021-02-15T13:51:28.903Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 6,
          favorecido: "Mercado Dia",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 106,
            CreatedAt: "2021-02-15T13:51:28.904Z",
            UpdatedAt: "2021-02-15T13:51:28.904Z",
            DeletedAt: null,
            contas_a_pagar_id: 143,
            data_pagamento: "2021-02-15",
            valor: 16,
          },
          ContasPagas: {
            ID: 164,
            CreatedAt: "2021-02-15T13:58:30.547Z",
            UpdatedAt: "2021-02-15T13:58:30.547Z",
            DeletedAt: null,
            contas_a_pagar_id: 143,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 147,
          CreatedAt: "2021-02-15T13:52:55.318Z",
          UpdatedAt: "2021-02-15T13:52:55.318Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 6,
          favorecido: "Mercado Extra",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 110,
            CreatedAt: "2021-02-15T13:52:55.318Z",
            UpdatedAt: "2021-02-15T13:52:55.318Z",
            DeletedAt: null,
            contas_a_pagar_id: 147,
            data_pagamento: "2021-02-15",
            valor: 28,
          },
          ContasPagas: {
            ID: 165,
            CreatedAt: "2021-02-15T13:58:31.063Z",
            UpdatedAt: "2021-02-15T13:58:31.063Z",
            DeletedAt: null,
            contas_a_pagar_id: 147,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 148,
          CreatedAt: "2021-02-15T13:53:20.126Z",
          UpdatedAt: "2021-02-15T13:53:20.126Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 6,
          favorecido: "Sacolão",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 111,
            CreatedAt: "2021-02-15T13:53:20.127Z",
            UpdatedAt: "2021-02-15T13:53:20.127Z",
            DeletedAt: null,
            contas_a_pagar_id: 148,
            data_pagamento: "2021-02-15",
            valor: 32,
          },
          ContasPagas: {
            ID: 166,
            CreatedAt: "2021-02-15T13:58:31.584Z",
            UpdatedAt: "2021-02-15T13:58:31.584Z",
            DeletedAt: null,
            contas_a_pagar_id: 148,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 151,
          CreatedAt: "2021-02-15T13:54:04.817Z",
          UpdatedAt: "2021-02-15T13:54:04.817Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 6,
          favorecido: "Mercado Dia",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 114,
            CreatedAt: "2021-02-15T13:54:04.818Z",
            UpdatedAt: "2021-02-15T13:54:04.818Z",
            DeletedAt: null,
            contas_a_pagar_id: 151,
            data_pagamento: "2021-02-15",
            valor: 16,
          },
          ContasPagas: {
            ID: 167,
            CreatedAt: "2021-02-15T13:58:32.31Z",
            UpdatedAt: "2021-02-15T13:58:32.31Z",
            DeletedAt: null,
            contas_a_pagar_id: 151,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 155,
          CreatedAt: "2021-02-15T13:55:52.309Z",
          UpdatedAt: "2021-02-15T13:55:52.309Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 6,
          favorecido: "Assai",
          inicio_data_pagamento: "2021-02-15",
          fim_data_pagamento: "2021-02-15",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Extra",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 118,
            CreatedAt: "2021-02-15T13:55:52.31Z",
            UpdatedAt: "2021-02-15T13:55:52.31Z",
            DeletedAt: null,
            contas_a_pagar_id: 155,
            data_pagamento: "2021-02-15",
            valor: 74,
          },
          ContasPagas: {
            ID: 168,
            CreatedAt: "2021-02-15T13:58:32.915Z",
            UpdatedAt: "2021-02-15T13:58:32.915Z",
            DeletedAt: null,
            contas_a_pagar_id: 155,
            data_pagamento: "2021-02-15",
          },
        },
      ],
      Soma: 211,
    },
    {
      ID: 7,
      CreatedAt: "2020-01-29T13:57:12Z",
      UpdatedAt: "2020-01-29T13:57:12Z",
      DeletedAt: null,
      nome: "Estudos",
      cor: "#ff8507",
      tipo: "pagamento",
      ContasAPagar: [],
      Soma: 0,
    },
    {
      ID: 8,
      CreatedAt: "2020-01-29T13:57:29Z",
      UpdatedAt: "2020-01-29T13:57:29Z",
      DeletedAt: null,
      nome: "Avulsos",
      cor: "#84BE25",
      tipo: "pagamento",
      ContasAPagar: [
        {
          ID: 107,
          CreatedAt: "2020-11-14T00:00:00Z",
          UpdatedAt: "2021-02-15T13:41:38.267Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 8,
          favorecido: "Ponto Frio - Carla",
          inicio_data_pagamento: "2020-12-30",
          fim_data_pagamento: "2021-04-30",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Parcelada",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 99,
            CreatedAt: "2021-02-15T13:41:38.263Z",
            UpdatedAt: "2021-02-15T13:41:38.263Z",
            DeletedAt: null,
            contas_a_pagar_id: 107,
            data_pagamento: "2021-02-15",
            valor: 219,
          },
          ContasPagas: {
            ID: 182,
            CreatedAt: "2021-02-22T13:50:11.463Z",
            UpdatedAt: "2021-02-22T13:50:11.463Z",
            DeletedAt: null,
            contas_a_pagar_id: 107,
            data_pagamento: "2021-02-22",
          },
        },
      ],
      Soma: 219,
    },
    {
      ID: 9,
      CreatedAt: "2020-01-29T13:57:29Z",
      UpdatedAt: "2020-01-29T13:57:29Z",
      DeletedAt: null,
      nome: "Empresa",
      cor: "#c26fbf",
      tipo: "pagamento",
      ContasAPagar: [
        {
          ID: 96,
          CreatedAt: "2020-11-14T00:00:00Z",
          UpdatedAt: "0001-01-01T00:00:00Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 9,
          favorecido: "DAS MEI",
          inicio_data_pagamento: "2020-11-14",
          fim_data_pagamento: "",
          descricao: "",
          forma_pagamento: "Débito Automatico",
          tipo_conta: "Fixa",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 32,
            CreatedAt: "2020-11-14T00:00:00Z",
            UpdatedAt: "0001-01-01T00:00:00Z",
            DeletedAt: null,
            contas_a_pagar_id: 96,
            data_pagamento: "2020-11-30",
            valor: 57,
          },
          ContasPagas: {
            ID: 157,
            CreatedAt: "2021-02-15T13:37:15.585Z",
            UpdatedAt: "2021-02-15T13:37:15.585Z",
            DeletedAt: null,
            contas_a_pagar_id: 96,
            data_pagamento: "2021-02-15",
          },
        },
        {
          ID: 98,
          CreatedAt: "2020-11-14T00:00:00Z",
          UpdatedAt: "0001-01-01T00:00:00Z",
          DeletedAt: null,
          user_id: 49,
          categorias_contas_a_pagar_id: 9,
          favorecido: "Google Play Storage",
          inicio_data_pagamento: "2020-11-14",
          fim_data_pagamento: "",
          descricao: "",
          forma_pagamento: "Cartão",
          tipo_conta: "Fixa",
          parcelas: "",
          ValoresContasAPagar: {
            ID: 18,
            CreatedAt: "2020-11-14T00:00:00Z",
            UpdatedAt: "0001-01-01T00:00:00Z",
            DeletedAt: null,
            contas_a_pagar_id: 98,
            data_pagamento: "2020-11-14",
            valor: 7,
          },
          ContasPagas: {
            ID: 175,
            CreatedAt: "2021-02-15T13:58:43.525Z",
            UpdatedAt: "2021-02-15T13:58:43.525Z",
            DeletedAt: null,
            contas_a_pagar_id: 98,
            data_pagamento: "2021-02-15",
          },
        },
      ],
      Soma: 64,
    },
  ],
  TotalCategories: 1515,
  SomaFormaPagamento: {
    Cartão: 1049,
    Dinheiro: 194,
    Débito: 95,
    "Débito Automatico": 177,
  },
};
const state = reactive({
  categoriaContas: api,
  editarContaAPagar: {},
  Calendario: { dataSelecionada: "" },
  ContaAPagar: { ValoresContasAPagar: { valor: money(0) } },
  editAddMode: { mode: "" },
  dataAtual: datePtBrToUs(
    new Date().toLocaleDateString("pt-BR", {
      year: "numeric",
      month: "2-digit",
      day: "2-digit",
    })
  ),
});

function getCategoriaContas() {
  if (state.Calendario.dataSelecionada) {
    console.log("Puxando categorias");
    // this.ActionGetFinancial(this.dataSelecionada);
  }
}
function setDataCalendario(data) {
  if (data) {
    state.Calendario.dataSelecionada = data;
  }
}
function makeBillPayment(data) {
  console.log("makeBillPayment" + data);
  // this.ActionStoreFinancialBillPayment(data).then(
  //   this.getCategoriaContasVuex()
  // );
}
function deleteBillPayment(id) {
  console.log("deleteBillPayment" + id);
  // this.ActionDeleteFinancialBillPayment(id).then(
  //   this.getCategoriaContasVuex()
  // );
}

async function editBillsToPay(id) {
  if (!id) {
    router.push("/financeiro");
  }
  state.editContaAPagar = editApi;
  state.ContaAPagar = { ValoresContasAPagar: {} };
  state.ContaAPagar.ValoresContasAPagar.valor = money(0);
  if (id) {
    console.log("Editando" + id);
    if (state.editContaAPagar) {
      state.ContaAPagar = state.editContaAPagar;
    }
  }

  // const dataEdit = {
  //   id: id,
  //   dataselecionada: this.dataSelecionada,
  // };
  // await this.ActionEditFinancial(dataEdit).then(() => {
  //   this.$router.push({ name: "financeiroeditarconta" });
  // });
}
function filtersBillsToPay() {
  state.ContaAPagar.categorias_contas_a_pagar_id = parseInt(
    state.ContaAPagar.categorias_contas_a_pagar_id
  );
  state.ContaAPagar.ValoresContasAPagar.valor = parseFloat(
    state.ContaAPagar.ValoresContasAPagar.valor
  );
  state.ContaAPagar.ValoresContasAPagar.data_pagamento =
    state.ContaAPagar.inicio_data_pagamento;
}
function storeBillsToPay() {
  filtersBillsToPay();
  console.log("store bills");
}
function updateBillsToPay() {
  filtersBillsToPay();
  console.log("update bills");
}
function addBillsToPay() {
  state.ContaAPagar = { ValoresContasAPagar: {} };
  state.ContaAPagar.ValoresContasAPagar.valor = money(0);

  state.ContaAPagar.inicio_data_pagamento = state.dataAtual;
  state.ContaAPagar.fim_data_pagamento = state.dataAtual;
  state.ContaAPagar.forma_pagamento = "Cartão";
  state.ContaAPagar.tipo_conta = "Extra";
  state.ContaAPagar.categorias_contas_a_pagar_id = "2";
}

async function setEditAddMode(mode) {
  state.editAddMode.mode = mode;
  return mode;
}

export const useFinancial = () => {
  return {
    ...toRefs(state),
    getCategoriaContas,
    setDataCalendario,
    makeBillPayment,
    deleteBillPayment,
    editBillsToPay,
    storeBillsToPay,
    addBillsToPay,
    updateBillsToPay,
    setEditAddMode,
  };
};

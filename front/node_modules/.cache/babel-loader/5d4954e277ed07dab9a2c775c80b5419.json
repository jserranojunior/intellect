{"remainingRequest":"/opt/lampp/htdocs/intellect/front/node_modules/thread-loader/dist/cjs.js!/opt/lampp/htdocs/intellect/front/node_modules/babel-loader/lib/index.js!/opt/lampp/htdocs/intellect/front/node_modules/eslint-loader/index.js??ref--13-0!/opt/lampp/htdocs/intellect/front/src/modules/auth/vuex/AuthActions.js","dependencies":[{"path":"/opt/lampp/htdocs/intellect/front/src/modules/auth/vuex/AuthActions.js","mtime":1580062854235},{"path":"/opt/lampp/htdocs/intellect/front/node_modules/cache-loader/dist/cjs.js","mtime":1578848123391},{"path":"/opt/lampp/htdocs/intellect/front/node_modules/thread-loader/dist/cjs.js","mtime":1576704845283},{"path":"/opt/lampp/htdocs/intellect/front/node_modules/babel-loader/lib/index.js","mtime":1584734931761},{"path":"/opt/lampp/htdocs/intellect/front/node_modules/eslint-loader/index.js","mtime":1576704844214}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9vcHQvbGFtcHAvaHRkb2NzL2ludGVsbGVjdC9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCB2YXIgYXV0aGVudGljYXRlID0gZnVuY3Rpb24gYXV0aGVudGljYXRlKF9yZWYsIGRhdGEpIHsKICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogIHJldHVybiBuZXcgUHJvbWlzZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXNvbHZlLCByZWplY3QpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMjcuMC4wLjE6MzMzMy9hdXRoZW50aWNhdGUnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0FjdGlvblNldFRva2VuJywgcmVzcG9uc2UuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIpIHsKICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKSk7Cn07CmV4cG9ydCB2YXIgZ2V0VXNlciA9IGZ1bmN0aW9uIGdldFVzZXIoX3JlZjMpIHsKICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0LAogICAgICBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogIHJldHVybiBuZXcgUHJvbWlzZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHZhciBvcHRpb25zOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMzMzJywKICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgc3RhdGUudG9rZW4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIGF4aW9zLmdldCgnL3VzZXInLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgY29tbWl0KCdVU0VSJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7CiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiAoX3gzLCBfeDQpIHsKICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKSk7Cn07CmV4cG9ydCB2YXIgQWN0aW9uQ2hlY2tUb2tlbiA9IGZ1bmN0aW9uIEFjdGlvbkNoZWNrVG9rZW4oX3JlZjUpIHsKICB2YXIgZGlzcGF0Y2ggPSBfcmVmNS5kaXNwYXRjaCwKICAgICAgc3RhdGUgPSBfcmVmNS5zdGF0ZTsKCiAgaWYgKHN0YXRlLnRva2VuKSB7CiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN0YXRlLnRva2VuKTsKICB9CgogIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwoKICBpZiAoIXRva2VuIHx8IHRva2VuID09ICJ1bmRlZmluZWQiIHx8IHRva2VuID09ICJudWxsIiB8fCB0b2tlbiA9PSAiIikgewogICAgdG9rZW4gPSBmYWxzZTsKICB9CgogIGlmICghdG9rZW4pIHsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1Rva2VuIEludsOhbGlkbycpKTsKICB9CgogIGlmICh0b2tlbiB8fCB0b2tlbiAhPT0gInVuZGVmaW5lZCIgfHwgdG9rZW4gIT09ICIiIHx8IHRva2VuICE9PSAibnVsbCIpIHsKICAgIHJldHVybiBkaXNwYXRjaCgnQWN0aW9uU2V0VG9rZW4nLCB0b2tlbik7CiAgfQp9OwpleHBvcnQgdmFyIEFjdGlvblNldFRva2VuID0gZnVuY3Rpb24gQWN0aW9uU2V0VG9rZW4oX3JlZjYsIHBheWxvYWQpIHsKICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0LAogICAgICBkaXNwYXRjaCA9IF9yZWY2LmRpc3BhdGNoOwogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHBheWxvYWQpOwogIGNvbW1pdCgnQVVUSEVOVElDQVRFJywgcGF5bG9hZCk7CiAgZGlzcGF0Y2goJ2dldFVzZXInLCAnJyk7Cn07IC8vIGV4cG9ydCBjb25zdCBBY3Rpb25TZXRVc2VyID0gKHsgY29tbWl0fSwgcGF5bG9hZCkgPT4gewovLyAgIGNvbW1pdCgnVVNFUicsIHBheWxvYWQpCi8vIH0KCmV4cG9ydCB2YXIgTG9nb3V0ID0gZnVuY3Rpb24gTG9nb3V0KF9yZWY3KSB7CiAgdmFyIGNvbW1pdCA9IF9yZWY3LmNvbW1pdDsKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCAnJyk7CiAgY29tbWl0KCdBVVRIRU5USUNBVEUnLCAnJyk7CiAgY29tbWl0KCdVU0VSJywgJycpOwp9Ow=="},{"version":3,"sources":["/opt/lampp/htdocs/intellect/front/src/modules/auth/vuex/AuthActions.js"],"names":["axios","authenticate","data","dispatch","Promise","resolve","reject","post","then","response","token","catch","error","console","log","getUser","commit","state","options","baseURL","timeout","headers","get","ActionCheckToken","localStorage","getItem","Error","ActionSetToken","payload","setItem","Logout"],"mappings":"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","sourcesContent":["import axios from \"axios\"\n\n  export const authenticate = ({dispatch}, data) => {\n    return new Promise(async (resolve, reject) => {    \n            axios.post('http://127.0.0.1:3333/authenticate', data)\n            .then(function (response) {\n                dispatch('ActionSetToken', response.data.token)             \n                                              \n                resolve() \n            })\n            .catch(function (error) {\n                console.log(error)\n                console.log(error.response); \n                reject(error)           \n            })  \n    })\n  }\n  export const getUser = ({ commit, state }) => {\n    return new Promise(async (resolve, reject) => {           \n        const options = {\n                    baseURL: 'http://localhost:3333',\n                    timeout: 1000,\n                    headers: {\n                      'Authorization': 'Bearer ' + state.token\n                    }\n                  }             \n            axios.get('/user', options)\n            .then(function (response) {                \n                commit('USER', response.data)      \n                resolve() \n            })\n            .catch(function (error) {\n                console.log(error)\n                console.log(error.response); \n                reject(error)           \n            })  \n    })\n  }\n\n  export const ActionCheckToken = ({ dispatch, state }) => {  \n    if (state.token) {     \n      return Promise.resolve(state.token)\n    }\n    var token = localStorage.getItem('token')\n    if(!token || token == \"undefined\" || token == \"null\" || token == \"\"){\n      token = false\n    }\n    if (!token) { \n      return Promise.reject(new Error('Token InvÃ¡lido'))\n    }\n    if(token || token !== \"undefined\" || token !== \"\" || token !== \"null\"){       \n      return dispatch('ActionSetToken', token)    \n        \n    }   \n  }\n \n\n  export const ActionSetToken = ({ commit, dispatch}, payload) => {\n    localStorage.setItem('token', payload)   \n    commit('AUTHENTICATE', payload) \n    dispatch('getUser', '')  \n  }\n\n  // export const ActionSetUser = ({ commit}, payload) => {\n  //   commit('USER', payload)\n  // }\n\n  export const Logout = ({ commit}) => {\n    localStorage.setItem('token', '')\n    commit('AUTHENTICATE', '') \n    commit('USER', '')\n  }\n  "]}]}